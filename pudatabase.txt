#pupm#import os,time#line##line#def install():#line#    print("\n*PuDatabase Version1.0*")#line#    print("*" + time.strftime("%a %b %d %H:%M:%S %Y", time.localtime()))#line#    print("*" + time.strftime("%Y-%m-%d %H:%M:%S", time.localtime()))#line#    print("*成功安装！")#line##line#def uninstall():#line#    print("*成功卸载！")#line##line#def icheckpath(path):#line#    if path[-1] == "/":#line#        path = path[:-1]#line#    db = open(file_path,mode="r")#line#    dball = db.read()#line#    dball = dball.split("\n")#line#    for line in dball:#line#        if line.find(path + " ") != -1:#line#            return 1#line#    return 0#line##line#def iread(path):#line#    if path[-1] == "/":#line#        path = path[:-1]#line#    db = open(file_path,mode="r")#line#    dball = db.read()#line#    dball = dball.split("\n")#line#    for line in dball:#line#        if line.find(path + " ") != -1:#line#            line = line.split(" ",1)#line#            line = line[1]#line#            return line[3:-3]#line##line#def iset(path,text):#line#    if path[-1] == "/":#line#        path = path[:-1]#line#    db = open(file_path,mode="r")#line#    dball = db.read()#line#    dball = dball.split("\n")#line#    new = ""#line#    for line in dball:#line#        if line.find(path + " ") != -1:#line#            line = line.split(" ",1)#line#            line = line[0] + " " + text#line#        new = new + line + "\n"#line#    new = new[:-1]#line#    db.close()#line#    db = open(file_path,mode="w")#line#    db.write(new)#line#    db.close()#line#    return "*成功设置内容"#line##line#def imkdir(path,dirname):#line#    if path[-1] == "/":#line#        path = path[:-1]#line#    db = open(file_path,mode="r")#line#    dball = db.read()#line#    dball = dball.split("\n")#line#    new = ""#line#    for line in dball:#line#        if line.find(path + " ") != -1:#line#            ident = line.split(".",1)#line#            ident = ident[0]#line#            line = line + "\n" + ident + "~" + path + "/" + dirname + " ''''''"#line#        new = new + line + "\n"#line#    new = new[:-1]#line#    db.close()#line#    db = open(file_path,mode="w")#line#    db.write(new)#line#    db.close()#line#    return "*成功创建路径"#line##line#def ils(path,method):#line#    if path[-1] != "/":#line#        path = path + "/"#line#    db = open(file_path,mode="r")#line#    dball = db.read()#line#    dball = dball.split("\n")#line#    pathls = ""#line#    for line in dball:#line#        if line.find(path) != -1:#line#            line = line.split(path)#line#            line = line[1]#line#            line = line.split(" ")#line#            line = line[0]#line#            if method == "0" and line.find("/") == -1:#line#                pathls = pathls + line + "\n"#line#            elif method == "1" and line.find("/") == -1:#line#                pathls = pathls + path + line + "\n"#line#            elif method == "2":#line#                pathls = pathls + line + "\n"#line#            elif method == "3":#line#                pathls = pathls + path + line + "\n"#line#    return pathls[:-1]#line##line#def idel(path):#line#    if path[-1] == "/":#line#        path = path[:-1]#line#    db = open(file_path,mode="r")#line#    dball = db.read()#line#    dball = dball.split("\n")#line#    new = ""#line#    for line in dball:#line#        if line.find(path) != -1:#line#            line = line.split(" ",1)#line#            line = line[0]#line#            if line.find(path) == -1:#line#                new = new + line + "\n"#line#        else:#line#            new = new + line + "\n"#line#    new = new[:-1]#line#    db.close()#line#    db = open(file_path,mode="w")#line#    db.write(new)#line#    db.close()#line#    return "*成功删除路径"#line##line##line#print("\n*PuDatabase Version1.0*")#line#print("*" + time.strftime("%a %b %d %H:%M:%S %Y", time.localtime()))#line#print("*" + time.strftime("%Y-%m-%d %H:%M:%S", time.localtime()))#line##line#def path(in_path):#line#    global file_path#line#    file_path = in_path#line#    if os.path.isfile(file_path) == False:#line#        db = open(file_path,mode="w")#line#        db.write(". ''''''")#line#        db.close()#line#        return "*ERROR*未找到数据库文件，已新建数据库*\n"#line#    else:#line#        return "*已导入数据库'" + file_path + "'*\n"#line##line##line##line##line##line#def command(ins):#line#    if ins == "":#line#        ins = "pass"#line##line#    if ins[0] == ".":#line#        lins = ins.split(" ",2)#line##line#        if len(lins) == 1:#line#            return("*ERROR*请在路径后输入指令")#line#        elif lins[1] == "read":#line#            if icheckpath(lins[0]) == 0:#line#                return("*ERROR*未找到目标路径")#line#            else:#line#                return(iread(lins[0]))#line#        elif lins[1] == "set":#line#            if len(lins) < 3:#line#                return("*ERROR*未找到参数，请输入完整的参数")#line#            elif icheckpath(lins[0]) == 0:#line#                return("*ERROR*未找到目标路径")#line#            else:#line#                text = lins[2]#line#                if len(text.split("'''")) > 3:#line#                    return("*ERROR*一个文本最多可使用两个三单引号")#line#                elif len(text) < 6:#line#                    return("*ERROR*请使用三单引号括起文本，如：'''example'''")#line#                elif text[:3] != "'''" or text[-3:] != "'''":#line#                    return("*ERROR*请使用三单引号括起文本，如：'''example'''")#line#                else:#line#                    return(iset(lins[0],text))#line#        elif lins[1] == "mkdir":#line#            if len(lins) < 3:#line#                return("*ERROR*未找到参数，请输入完整的参数")#line#            elif icheckpath(lins[0]) == 0:#line#                return("*ERROR*未找到目标路径")#line#            else:#line#                dirname =lins[2]#line#                if dirname.find(" ") > -1 or dirname.find("/") > -1:#line#                    return("*ERROR*路径名不应含有' '或'/'")#line#                elif dirname == "":#line#                    return("*ERROR*路径名不应为空")#line#                elif dirname[-1] == ".":#line#                    return("*ERROR*路径名不应以根路径'.'结尾")#line#                else:#line#                    return(imkdir(lins[0],dirname))#line#        elif lins[1] == "ls":#line#            if len(lins) < 3:#line#                return("*ERROR*未找到参数，请输入完整的参数")#line#            elif icheckpath(lins[0]) == 0:#line#                return("*ERROR*未找到目标路径")#line#            else:#line#                method =lins[2]#line#                if method != "0" and method != "1" and method != "2" and method != "3":#line#                    return("*ERROR*无效的参数\n0-列出下一级路径名 1-列出下一级完整路径名 2-列出所有子路径路径名 3-列出所有子路径完整路径名")#line#                else:#line#                    return(ils(lins[0],method))#line#        elif lins[1] == "del":#line#            if icheckpath(lins[0]) == 0:#line#                return("*ERROR*未找到目标路径")#line#            elif lins[0] == "." or lins[0] == "./":#line#                return("*ERROR*根路径不能被删除")#line#            else:#line#                return(idel(lins[0]))#line#    else:#line#        return("*ERROR*未知命令")#line##line#def cmd():#line#    file_path = input("*请输入数据库文件路径:")#line#    print(path(file_path))#line#    while 1:#line#        ins = input("*请输入指令:")#line#        if ins == "exit":#line#            exit()#line#        else:#line#            print(command(ins))#pupm#
